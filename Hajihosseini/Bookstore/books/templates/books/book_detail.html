{% extends "_base.html" %}

{% load static %}

{% block title %}
جزییات {{ book.title }}
{% endblock title %}

{% block links %}
{% endblock links %}


{% block content %}
<div class="d-flex justify-content-center">
    <div class="row w-sm-75 w-100">
        <div class="col-xs-12 col-md-3 d-flex justify-content-center">
            <div>
                {% if book.cover %}
                <img src="{{ book.cover.url }}"
                class="img-fluid rounded-start" alt="عکس جلد کتاب">
                {% else %}
                <img src="{% static 'icons/book.png' %}"
                class="img-fluid rounded-start" alt="عکس جلد کتاب">
                {% endif %}
            </div>
        </div>
        <div class="col-xs-12 col-md-6 text-center text-md-end mt-md-1 mt-4">
            <h1> {{ book.title }} </h1>
            <h5 class="small my-1"><span class="text-muted">نویسنده: </span>{{ book.author }}</h5>
            {% if book.translator %}
                <h5 class="small my-1"><span class="text-muted">مترجم: </span>{{ book.translator }}</h5>
            {% endif %}
            {% if book.publisher %}
                <h5 class="small my-1"><span class="text-muted">انتشارات: </span>{{ book.publisher }}</h5>
            {% endif %}
            {% if book.year_published %}
                <h5 class="small my-1"><span class="text-muted">سال انتشار: </span>{{ book.year_published }}</h5>
            {% endif %}
            {% if book.number_of_pages %}
                <h5 class="small my-1"><span class="text-muted">تعداد صفحات: </span>{{ book.number_of_pages }}</h5>
            {% endif %}
            <div>
                <a href="{% url 'book_update' book.pk %}" class='btn btn-outline-primary px-3'>ویرایش کتاب</a>
                <a href="{% url 'book_delete' book.pk %}" class='btn btn-outline-danger px-3'>حذف کتاب</a>
            </div>
        </div>
        <div class="col-xs-12 col-md-3 d-flex flex-column">
            <h3 class="align-self-center pt-2 text-muted align-self-md-end">
                {{ book.price }} $
            </h3>
        </div>
    </div>
</div>

<div class="d-flex justify-content-center">
    <div class="my-3 w-sm-75 w-100" style='text-align: justify'>
        {{ book.description }}
    </div>
</div>
<div class="d-flex justify-content-center">
    <div class="card shadow my-3 p-5 w-sm-75 w-100">
        <h2 class="mb-5">نظرات:</h2>
        {% for comment in comments %}
            {% if comment.is_approved %}
                <div class="border-bottom mb-3">
                    <h5 class="mb-3">{{ comment.user }}</h5>
                    <p>{{ comment.text|linebreaks }}</p>
                </div>
            {% endif %}
        {% endfor %}
    </div>
</div>

<div class="d-flex justify-content-center">
    <div class="card shadow my-3 p-5 w-sm-75 w-100">
        <h3>نظر خود را وارد کنید:</h3>
        <form method="POST">
            <div class="form-group py-2">
                <label class="py-1" for="author_name">نام شما:</label>
                <input type="text" class="form-control" placeholder="علی علوی" name="author_name">
            </div>
            <div class="form-group py-2">
                <label class="py-1" for="email">ایمیل شما:</label>
                <input type="email" class="form-control" placeholder="example@gmail.com" name="email">
            </div>
            <div class="form-group py-2">
                <label class="py-1" for="comment_text">متن نظر:</label>
                <textarea class="form-control" name="text" rows="3"
                            placeholder="نظر خود را اینجا وارد کنید."></textarea>
            </div>
            <button type="submit" class="btn btn-primary">ارسال</button>
        </form>
    </div>
</div>
<div>
</div>
{% endblock content %}
